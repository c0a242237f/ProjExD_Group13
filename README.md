# 星のティーユーティー(仮)

## 実行環境の必要条件
* python >= 3.10
* pygame >= 2.1

## ゲームの概要
* 主人公(仮)が敵を倒しながらゴールを目指すゲーム

## ゲームの遊び方
* 矢印キーで豪華豚を操作し，スペースキー押下によるバーナーで豪華豚を丸焼きにする
* 豪華豚が10秒以上バーナーにあぶられたら，ゲームオーバーとなる

## ゲームの実装
### 共通基本機能
* 背景画像と主人公キャラクターの描画

### 分担追加機能
* 丸焼きエフェクト（担当：ふしみ）：バーナーにより豪華豚を丸焼きにするエフェクトに関するクラス
* キッチンタイマー機能（担当：ぷしみ）：制限時間以内に調理が完了しなかった場合に，豪華豚が脱走する機能
* 調理機能（担当：ぶしみ）：調理器具をキー押下により選択し，豪華豚を調理する機能

### ToDo
- [ ] ほげほげ機能
- [ ] ふがふが関数内の変数名の統一

### メモ
* 今上がってる候補「カービィ」「シューティング(こうかとん)」
* 第一候補「カービィ」
* １: 横スクロールのゲーム。地面と敵を配置し、ゴールを目指す。
* 2:敵 こうかとん(イラスト)を配置、カービィっぽいやつを主人公に
* 3: 必須機能(横スクロール、地形判定、重力、ジャンプ) 特定機能(敵吸込、ホバリング)、追加機能(能力(※コードが大きく異なるような物: ファイアー、ボム、クラッシュ、スロット))
* 3-1:具体的実装方法 変身時、変身前カービィを消し、新たに返信スタンス
* ジャンル「シューティング」「パズル」「賭け事」

* 基本機能: １.スコア(優先度?,難易度1) 2.HP(優先度3,難易度1~2) 3.地形(優先度3,難易度?) 4.ゴール(優先度3,難易度1) 5.ホバリング(優先度1,難易度) 7.BGM(優先度1,難易度1) 9.敵(挙動も) 10.画像(敵、ゴール、背景)
* 
* 追加機能: 敵の行動

# 個人実装機能まとめ (C0C24001)

## 実装者
- 学籍番号: C0C24001
- ブランチ: C0C24001/kirby_bom

## 実装した機能

### 1. プレイヤー画像システム
- **ファイル**: `img/bom1.png`
- **説明**: キャラクター画像をプレイヤーとして使用
- **機能**:
  - 左右反転アニメーション
  - 透過処理対応（smoothscale使用）
  - ステージに合わせたサイズ調整
  - 足元の地面接地調整

### 2. 爆弾システム
- **ファイル**: `img/bom3.png`（爆弾画像）
- **説明**: 3種類の爆弾攻撃を実装
- **操作方法**:
  - **Bキー**: 爆弾設置（重力で落下）
  - **Shift+Bキー**: 爆弾投擲（放物線軌道）
  - **Kキー**: 近くの爆弾をキック

### 3. 物理エンジン
- **重力**: 爆弾に重力を適用（GRAVITY * 0.5）
- **跳ね返り**: 壁や地面で減衰しながら跳ね返る
- **摩擦**: 地面での減速処理
- **衝突判定**: ブロックとの詳細な衝突判定

### 4. 爆発エフェクト
- **ファイル**: `img/bakuha.gif`
- **説明**: GIFアニメーションで爆発を表現
- **技術**:
  - PILライブラリでGIF全フレーム読み込み
  - 20fpsでアニメーション再生
  - フレーム単位での表示切り替え

### 5. サウンドシステム
- **爆発音**: `bgm/bom.mp3`
- **BGM**: `bgm/music.ogg`（ループ再生）
- **対応形式**: OGG, WAV, MP3（OGG推奨）

### 6. 背景画像
- **ファイル**: `img/haikei.jpg`
- **説明**: ゲーム背景として画面全体に表示

## 依存関係

### 必須ライブラリ
```
pygame >= 2.6.1
pillow >= 10.0.0  # GIFアニメーション用
```

### 必須ファイル
```
img/
  ├── bom1.png      # プレイヤー画像
  ├── bom3.png      # 爆弾画像
  ├── bakuha.gif    # 爆発エフェクト
  └── haikei.jpg    # 背景画像

bgm/
  ├── bom.mp3       # 爆発音
  └── music.ogg     # BGM
```

## コード構造

### クラス
- **Bomb**: 爆弾オブジェクトの管理
  - `__init__()`: 初期化
  - `update()`: 物理演算と爆発判定
  - `draw()`: 描画処理
  - `is_explosion_finished()`: 爆発終了判定
  - `get_explosion_rect()`: 爆発範囲取得

### 定数（個人実装分）
```python
BOMB_FUSE_TIME = 3.0           # 爆弾の導火線時間
BOMB_EXPLOSION_DURATION = 0.5  # 爆発エフェクト表示時間
BOMB_EXPLOSION_RADIUS = 120    # 爆発範囲
```

## マージ時の注意点

### 1. キーバインディングの競合
現在使用中のキー:
- **Bキー**: 爆弾設置/投擲
- **Kキー**: 爆弾キック
- **Shift+B**: 爆弾投擲

他のメンバーが同じキーを使用している場合は調整が必要です。

### 2. 画像ファイルの配置
`img/`フォルダと`bgm/`フォルダが正しく配置されているか確認してください。

### 3. ライブラリの追加
Pillowが必要です:
```bash
pip install pillow
```

### 4. コードのマーク
個人実装部分は以下のコメントでマークしています:
```python
# ========================================
# 個人実装: 説明 (C0C24001)
# ========================================
```

## テスト方法

1. **爆弾設置テスト**: Bキーを押して爆弾が落下し、3秒後に爆発することを確認
2. **爆弾投擲テスト**: Shift+Bキーで爆弾が放物線を描いて飛ぶことを確認
3. **爆弾キックテスト**: Kキーで近くの爆弾が蹴られることを確認
4. **サウンドテスト**: 爆発音とBGMが再生されることを確認
5. **画像テスト**: キャラクターと爆発エフェクトが正しく表示されることを確認

## 既知の問題

特になし

## 今後の拡張案

- 爆発による敵へのダメージ処理
- 連鎖爆発システム
- 爆弾の種類追加（時限、リモート等）
- パワーアップアイテム